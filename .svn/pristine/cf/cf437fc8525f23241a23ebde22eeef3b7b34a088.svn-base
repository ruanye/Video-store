/**
 * Created by zhangji on 16/6/15
 */

var codeList = ["A","B","C","D11","D12","F1","F2","G","L","MAT","X","X1","Z","MAH","MA","MB","MD11","MD12","MG","ML","MX","MX1","MZ","BZ"];
var codeDict = {"D11":"B", "D12":"B", "MX1":"X1", "BZ":"", "X1":"A", "MD11":"D11", "MD12":"D12", "A":"", "C":"A", "B":"", "G":"A", "F2":"A", "L":"A", "X":"A", "Z":"A", "F1":"A", "MG":"G", "MA":"A", "MAT":"A", "MB":"B", "ML":"L", "MAH":"A", "MX":"X", "MZ":"Z"};

var SET = {
    init:function() {
        $.init();
        var optionJson = JSON.parse(sessionStorage.optionJson);
        //--var priceObj = JSON.parse(sessionStorage.priceObj);
        var itemkindList = optionJson.options;
        //--var itemkindList = priceObj.ITEMKIND;
        var usedKind = {};
        for (var i=0;i<itemkindList.length;i++) {
            var tmp = itemkindList[i];
            var s = '';
            s += '<li class="item-content">';
            s += '<div class="item-inner">';
            s += '<div class="item-title">'+tmp.name+'</div>';
            s += '<div class="item-after"></div>';
            s += '<div class="item-after">￥'+tmp.price+'</div></div></li> '
            usedKind[tmp.code] = s;
        }
        var ulList = ['', '', ''];
        for (var i=0;i<codeList.length;i++) {
            var k = codeList[i];
            if (!usedKind[k]) {
                 continue;
            }
            if (k == 'A' || codeDict[k] == 'A' || codeDict[codeDict[k]] == 'A') {
                ulList[0] += usedKind[k];
            } else if (k == 'B' || codeDict[k] == 'B' || codeDict[codeDict[k]] == 'B') {
                ulList[1] += usedKind[k];
            } else {
                ulList[2] += usedKind[k];
            }
        }
        $("#ul-list1").html(ulList[0]);
        $("#ul-list2").html(ulList[1]);
        $("#ul-list3").html(ulList[2]);
        $("#bz-price").html('￥'+sessionStorage.compulsoryInsurance / 100);
        $("#tax").html('￥'+sessionStorage.tax / 100);
    }
};

SET.init();

